[oploc1,priestperil_coffin_noanim]
if (%priestperil >= ^priestperil_poured_blessed_water) {
    ~chatplayer("<p,confused>The vampire should be dealt with. I'd still best not risk it though.");
} else {
    ~chatplayer("<p,confused>It sounds like there's something alive inside it. I don't think it would be a very good idea to open it...");
}

[oplocu,priestperil_coffin_noanim]
if(last_useitem = bucket_blessedwater) {
    if(%priestperil < ^priestperil_poured_blessed_water) %priestperil = ^priestperil_poured_blessed_water;
    mes("You pour the blessed water over the coffin...");
    // map_anim	id=priestperil_coffin_spell (272), delay=4, coord=(3413, 3486, 2)
    // map_anim	id=priestperil_coffin_spell (272), delay=4, coord=(3413, 3487, 2)
    anim(throw_bucketofwater, 0);
    inv_del(inv, bucket_blessedwater, 1);
    inv_add(inv, bucket_empty, 1);
    return;
}
if (last_useitem = bucket_water) {
    ~chatplayer("<p,confused>I don't think pouring normal water on the coffin is going to help...");
    return;
}
if (last_useitem = bucket_murkywater) {
    ~chatplayer("<p,confused>This water doesn't look particularly holy to me... I think I'd better check with the priest first."); // https://youtu.be/wdUTtS7KzTI?si=qQkqUq_3kwOOncL1&t=497
    return;
}
~displaymessage(^dm_default);
